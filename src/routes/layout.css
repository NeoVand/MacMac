@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@theme {
	--color-game-bg: var(--bg);
	--color-game-surface: var(--surface);
	--color-game-cyan: var(--accent-cyan);
	--color-game-orange: var(--accent-orange);
	--color-game-purple: var(--accent-purple);
	--color-game-text: var(--text-primary);
}

:root {
	--bg: #f8f6f0;
	--surface: #efede6;
	--page-bg-center: #e2dcd2;
	--page-bg-edge: #faf8f2;
	--canvas-bg: #f8f6f0;
	--accent-cyan: #0891b2;
	--accent-orange: #d97706;
	--accent-purple: #7c3aed;
	--text-primary: #1c1917;
	--text-secondary: rgba(28, 25, 23, 0.55);
	--text-tertiary: rgba(28, 25, 23, 0.3);
	--border: rgba(28, 25, 23, 0.08);
	--border-hover: rgba(28, 25, 23, 0.15);
	--glass: rgba(248, 246, 240, 0.8);
	--glass-hover: rgba(248, 246, 240, 0.9);
	--overlay: rgba(248, 246, 240, 0.6);
	--canvas-axis: rgba(28, 25, 23, 0.12);
	--canvas-text: rgba(28, 25, 23, 0.3);
	--canvas-hint: rgba(28, 25, 23, 0.2);
	--canvas-crosshair: rgba(28, 25, 23, 0.5);
	--canvas-crosshair-ring: rgba(28, 25, 23, 0.1);
	--curve-glow: rgba(8, 145, 178, 0.1);
	--curve-fill-start: rgba(8, 145, 178, 0.08);
	--curve-fill-end: rgba(8, 145, 178, 0.0);
	--kde-fill-start: rgba(217, 119, 6, 0.18);
	--kde-fill-end: rgba(217, 119, 6, 0.02);
	--kde-stroke: rgba(217, 119, 6, 0.7);
	--sample-glow: rgba(217, 119, 6, 0.08);
	--sample-dot: rgba(217, 119, 6, 0.6);
	--diff-easy: #16a34a;
	--diff-medium: #ca8a04;
	--diff-hard: #ea580c;
	--diff-expert: #dc2626;
	--win-green: #16a34a;
	--loss-red: #dc2626;
}

.dark {
	--bg: #0a0a1a;
	--surface: #12122a;
	--page-bg-center: var(--surface);
	--page-bg-edge: var(--bg);
	--canvas-bg: #0a0a1a;
	--accent-cyan: #00d4ff;
	--accent-orange: #ff9933;
	--accent-purple: #a855f7;
	--text-primary: #ffffff;
	--text-secondary: rgba(255, 255, 255, 0.5);
	--text-tertiary: rgba(255, 255, 255, 0.25);
	--border: rgba(255, 255, 255, 0.06);
	--border-hover: rgba(255, 255, 255, 0.12);
	--glass: rgba(10, 10, 26, 0.8);
	--glass-hover: rgba(10, 10, 26, 0.9);
	--overlay: rgba(0, 0, 0, 0.6);
	--canvas-axis: rgba(255, 255, 255, 0.07);
	--canvas-text: rgba(255, 255, 255, 0.22);
	--canvas-hint: rgba(255, 255, 255, 0.25);
	--canvas-crosshair: rgba(255, 255, 255, 0.7);
	--canvas-crosshair-ring: rgba(255, 255, 255, 0.15);
	--curve-glow: rgba(0, 200, 255, 0.12);
	--curve-fill-start: rgba(0, 200, 255, 0.07);
	--curve-fill-end: rgba(0, 200, 255, 0.0);
	--kde-fill-start: rgba(255, 130, 40, 0.22);
	--kde-fill-end: rgba(255, 100, 30, 0.02);
	--kde-stroke: rgba(255, 150, 50, 0.75);
	--sample-glow: rgba(255, 150, 50, 0.1);
	--sample-dot: rgba(255, 153, 51, 0.65);
	--diff-easy: #4ade80;
	--diff-medium: #facc15;
	--diff-hard: #f97316;
	--diff-expert: #ef4444;
	--win-green: #4ade80;
	--loss-red: #ef4444;
}

html {
	background: var(--bg);
	color-scheme: light;
	transition: background-color 0.3s ease, color 0.3s ease;
}

html.dark {
	color-scheme: dark;
}

body {
	font-family:
		'Inter',
		ui-sans-serif,
		system-ui,
		-apple-system,
		sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	color: var(--text-primary);
}

* {
	transition-property: border-color, color, box-shadow;
	transition-duration: 0.3s;
	transition-timing-function: ease;
}

canvas, svg, img, video {
	transition: none;
}

/* Rank-up animation */
@keyframes rank-up-pop {
	0% { transform: scale(0.5); opacity: 0; }
	50% { transform: scale(1.2); opacity: 1; }
	70% { transform: scale(0.95); }
	100% { transform: scale(1); opacity: 1; }
}

@keyframes rank-up-glow {
	0%, 100% { text-shadow: 0 0 6px currentColor; }
	50% { text-shadow: 0 0 18px currentColor, 0 0 30px currentColor; }
}

.rank-up-anim {
	animation: rank-up-pop 0.6s ease-out, rank-up-glow 2s ease-in-out infinite 0.6s;
}

/* Home action buttons (Solo, Battle, Leaderboard) */
.btn-action {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 0.375rem;
	border-radius: 1rem;
	padding: 0.625rem 0.75rem;
	font-family: 'Outfit', sans-serif;
	font-size: 12px;
	font-weight: 700;
	letter-spacing: 0.02em;
	white-space: nowrap;
	backdrop-filter: blur(4px);
	transition: transform 0.15s, filter 0.15s;
	background: color-mix(in srgb, var(--btn-color) 14%, transparent);
	border: 1px solid color-mix(in srgb, var(--btn-color) 35%, transparent);
	color: var(--btn-color);
	box-shadow: 0 2px 12px color-mix(in srgb, var(--btn-color) 15%, transparent);
	text-decoration: none;
	cursor: pointer;
}
.btn-action:hover { transform: scale(1.02); filter: brightness(1.03); }
.btn-action:active { transform: scale(0.98); }
@media (min-width: 640px) {
	.btn-action {
		gap: 0.5rem;
		padding: 0.75rem 1.25rem;
		font-size: 14px;
	}
}

/* Lock scroll on play page â€” prevents mobile overscroll and tap-induced scrolling */
html.play-active,
html.play-active body {
	overflow: hidden;
	overscroll-behavior: none;
	touch-action: none;
	height: 100dvh;
	width: 100%;
	position: fixed;
}
